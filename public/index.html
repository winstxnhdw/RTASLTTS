<!DOCTYPE html>

<html lang="en">
  <head>
    <link rel="stylesheet" href="index.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>

    <div class="background">
      <div id="result" class="noselect">Test</div>
    </div>

    <script type="text/javascript" charset="utf-8">
      const result_element = document.getElementById('result')
      let previous_result = ''

      setInterval(async () => {
        const result = await fetch(new URL('http://localhost:5000'))
        if (result.status !== 200) return
        console.log('yo')
        if (result !== previous_result) {
          console.log('test')
          previous_result = result
          result_element.style.opacity = 1
          result_element.innerHTML += result
        } else {
          console.log('here')
          result_element.style.opacity -= 0.1

          if (result_element.style.opacity <= 0) {
            result_element.innerHTML = ''
          }
        }
      }, 16)
      // gsap.fromTo(
      //   '.logo',
      //   {
      //     autoAlpha: 0,
      //     filter: 'blur(10px)',
      //     y: 40
      //   },
      //   {
      //     autoAlpha: 1,
      //     filter: 'blur(0px)',
      //     y: 0,
      //     ease: 'Expo.easeOut',
      //     duration: 1.5
      //   }
      // )

      // gsap.fromTo(
      //   '.text',
      //   {
      //     autoAlpha: 0,
      //     filter: 'blur(10px)',
      //     y: 50
      //   },
      //   {
      //     autoAlpha: 1,
      //     filter: 'blur(0px)',
      //     y: 0,
      //     ease: 'Expo.easeOut',
      //     duration: 3
      //   }
      // )
    </script>
  </head>
</html>
